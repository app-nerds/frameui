<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Base Example</title>
  <link rel="stylesheet" href="/static/base.min.css" />
  <link rel="stylesheet" href="/static/icons.min.css" />
  <link rel="stylesheet" href="/static/components.min.css" />
</head>

<body>
  <main>
    <h1>Base Example</h1>

    <p>This page showcases the Base CSS and Components CSS.</p>

    <h2>Styles</h2>

    <p>A number of styles are built-in.</p>

    <h3>Headers</h3>

    <p>Here's what all the headers look like.</p>

    <div>
      <h1>Heading 1</h1>
      <h2>Heading 2</h2>
      <h3>Heading 3</h3>
      <h4>Heading 4</h4>
      <h5>Heading 5</h5>
    </div>

    <h3>Tables</h3>

    <table>
      <caption>
        Table Example
      </caption>
      <thead>
        <tr>
          <th scope="col">Col 1</th>
          <th scope="col">Col 2</th>
          <th scope="col">Col 3</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">Value 1</th>
          <td>Value 2</td>
          <td>Value 3</td>
        </tr>
        <tr>
          <th scope="row">Another set</th>
          <td>Value 2</td>
          <td>Value 3</td>
        </tr>
      </tbody>
    </table>

    <h3>Forms</h3>

    <form>
      <label for="first">First</label>
      <input type="text" id="first" autocomplete="name" />
      <small> This is additional information for this form field </small>

      <label for="second">Second</label>
      <select id="second" autocomplete="on">
        <option value="value1">Value 1</option>
        <option value="value2">Value 2</option>
        <option value="value3">Value 3</option>
      </select>

      <label for="third">Third</label>
      <textarea id="third" autocomplete="off">Text goes here</textarea>

      <label for="fourth">Fourth</label>
      <date-time-picker date-format="yyyy-mm-dd hh:mm" time-increment="30minute" date="2022-04-05"
        name="fourth"></date-time-picker>

      <footer>
        <button type="button">
          <i class="icon--mdi icon--mdi--arrow-left" alt="Left arrow"></i>
          Cancel
        </button>
        <button type="button" class="action-button">Action!</button>
      </footer>
    </form>

    <section>
      <h3>Cards</h3>

      <div class="cards">
        <article>
          <h3>Card Demonstration</h3>
          <p>
            This is the first card. It contains content. The markup is simple.
          </p>

          <footer>
            <button>Secondary</button>
            <button class="action-button">Primary</button>
          </footer>
        </article>

        <article>
          <h3>First: Container</h3>
          <p>Start with a DIV that has a class of <strong>.cards</strong>.</p>

          <code>
            &lt;div class="cards"&gt;<br />
            <br />
            &lt;/div&gt;
          </code>
        </article>

        <article>
          <h3>Second: Articles</h3>
          <p>Then add articles that look like this:</p>

          <code>
            &lt;article&gt;<br />
            &nbsp;&nbsp;&lt;h3&gt;Title Goes Here&lt;/h3&gt;<br />
            <br />
            &nbsp;&nbsp;&lt;p&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;Content goes in here. Put what you
            want!<br />
            &nbsp;&nbsp;&lt;/p&gt;<br />
            <br />
            &nbsp;&nbsp;&lt;footer&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;button&gt;Button&lt;/button&gt;<br />
            &nbsp;&nbsp;&lt;/footer&gt;<br />
            &lt;/article&gt;
          </code>
        </article>

        <article>
          <h3>All Together!</h3>

          <p>That's it! Here's a full sample!</p>

          <code>
            &lt;div class="cards"&gt;<br />
            &nbsp;&nbsp;&lt;article&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;h3&gt;Title Goes Here&lt;/h3&gt;<br />
            <br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Content goes in here. Put what
            you want!<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br />
            <br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;footer&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button&gt;Secondary&lt;/button&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button
            class="action-button"&gt;Primary&lt;/button&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/footer&gt;<br />
            &nbsp;&nbsp;&lt;/article&gt;<br />
            &lt;/div&gt;
          </code>

          <footer>
            <button>Secondary</button>
            <button class="action-button">Primary</button>
          </footer>
        </article>
      </div>
    </section>

    <h2>Icons</h2>

    <p>
      This library includes a couple of icons provided by
      <a href="https://icon-sets.iconify.design/mdi/">Iconify</a>
      and the Material Design Icons set. To include new ones, search for the
      icons you want and add them to the
      <em>icons.css</em>
      file by URL like
      <code>https://api.iconify.design/mdi.css?icons=home,arrow-left,arrow-right,cog</code>
    </p>

    <p>
      <i class="icon--mdi icon--mdi--menu" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--home" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--logout" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--check" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--arrow-left" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--arrow-right" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--arrow-up" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--arrow-down" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--cog" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--plus" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--pencil" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--delete" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--content-save" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--close" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--refresh" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--skip-backward" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--skip-previous" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--skip-next" style="width: 24px; height: 24px"></i>
      <i class="icon--mdi icon--mdi--skip-forward" style="width: 24px; height: 24px"></i>
    </p>

    <h2>Components</h2>

    <p>Here are the components provided by this library.</p>

    <h3>Color Picker</h3>

    <p>
      Color picker is a control that allows a user to pick a color from a
      predefined list.
    </p>

    <color-picker></color-picker>

    <h3>Message Bar</h3>

    <p>
      A basic component which displays a message. The background color depends
      upon the type of message being displayed.
    </p>

    <message-bar message-type="info" message="This is an informational message. Use 'message-type' of 'info'.">
    </message-bar>

    <message-bar message-type="success" message="This is a success message. Use 'message-type' of 'success'.">
    </message-bar>

    <message-bar message-type="warn" message="This is a warning message. Use 'message-type' of 'warn'.">
    </message-bar>

    <message-bar message-type="error" message="This is an error message. Use 'message-type' of 'error'.">
    </message-bar>

    <h3>Dialogs</h3>

    <p>
      Dialogs are window-based components that display or prompt user for
      information.
    </p>

    <ul>
      <li>Alert Dialog</li>
      <li>Confirmation dialog</li>
      <li>Prompt dialog</li>
    </ul>

    <div style="margin-bottom: 1rem">
      <button id="showInfoAlert">Show Info Alert</button>
      <button id="showSuccessAlert">Show Success Alert</button>
      <button id="showWarnAlert">Show Warn Alert</button>
      <button id="showErrorAlert">Show Error Alert</button>
      <button id="showConfirm">Show Confirm</button>
      <button id="showPrompt">Show Prompt</button>
    </div>

    <h3>Menus</h3>

    <ul>
      <li>Popup Menu</li>
    </ul>

    <div style="margin-bottom: 1rem">
      <button id="showPopup" aria-haspopup="menu">Show popup menu</button>
      <popup-menu id="popup" trigger="#showPopup">
        <popup-menu-item id="menuItem1" text="Menu Item 1" data="Value 1"
          icon="icon--mdi icon--mdi--home"></popup-menu-item>
        <popup-menu-item id="menuItem2" text="Menu Item 2" data="Value 2"
          icon="icon--mdi icon--mdi--plus"></popup-menu-item>
        <popup-menu-item id="menuItem3" text="Menu Item 3" data="Value 3"
          icon="icon--mdi icon--mdi--cog"></popup-menu-item>
      </popup-menu>
    </div>

    <h3>Date/Time Picker</h3>

    <date-time-picker></date-time-picker>

    <h3>Shim and Spinner</h3>

    <ul>
      <li>Shim</li>
      <li>Spinner</li>
    </ul>

    <div style="margin-bottom: 1rem">
      <button id="showSpinner">Show Spinner</button>
    </div>

    <h3>Tabs</h3>

    <div class="tabset">
      <input type="radio" name="tabset1" id="tabset-description" hidden aria-hidden="true" checked />
      <input type="radio" name="tabset1" id="tabset-about" hidden aria-hidden="true" />

      <ul hidden aria-hidden="true">
        <li>
          <label for="tabset-description">Description</label>
        </li>
        <li>
          <label for="tabset-about">About</label>
        </li>
      </ul>

      <div>
        <section>
          <h4>Description</h4>
          <p>
            This is a tabbed interface that doesn't use any JavaScript. All
            CSS baby!
          </p>
        </section>

        <section>
          <h4>About</h4>
          <p>
            This is pulled from
            <a href="https://cutcodedown.com/for_others/medium_articles/tabsWithoutJS/">Jason Knight</a>, who is
            brilliant at CSS and accessibility.
          </p>
        </section>
      </div>
    </div>

    <prompter-ui width="20em" action-button="#promptSaveAction" cancel-button="#promptCancelAction" id="prompt">
      <h4 slot="title" style="margin: 0">Say Hi</h4>
      <div slot="body">
        <form>
          <label for="greetingChoice">Greeting</label>
          <select id="greetingChoice" style="width: 100%">
            <option value="Hello">Hello</option>
            <option value="Howdy">Howdy</option>
            <option value="Hi">Hi</option>
          </select>

          <label for="yourName">Your Name</label>
          <input type="text" id="yourName" style="width: 100%" />
        </form>
      </div>

      <nav slot="buttons" part="buttons">
        <button type="button" id="promptCancelAction">Cancel</button>
        <button type="button" class="action-button" id="promptSaveAction">
          Go
        </button>
      </nav>
    </prompter-ui>

    <h3>Tag Cloud</h3>
    <tag-cloud id="tagCloud"></tag-cloud>

    <h3>Auto Complete - Single</h3>
    <auto-complete id="autoComplete1" label="Programming Language" name="programmingLanguage"></auto-complete>

    <h3>Auto Complete - Multiple - Delimited</h3>
    <auto-complete id="autoComplete2" label="Programming Languages" name="programmingLanguage" multiple="true"
      submission-style="delimited" delimiter=";"></auto-complete>

    <h3>Ajax Table - Using URL</h3>
    <ajax-table id="contactsTable1" fetch-on-load="true" url="/api/contacts" records-key="contacts"
      total-count-key="totalCount" page-key="page" previous-button="#previousPage" page-info="#pageInfo"
      next-button="#nextPage">
      <table>
        <thead>
          <tr>
            <th style="width: 20%">First Name</th>
            <th style="width: 20%" data-key="lastName">Last Name</th>
            <th style="width: 40%" data-key="email">Email</th>
            <th style="width: 20%" data-key="phone">Phone</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <ul class="table-paging">
        <li>
          <button id="previousPage" alt="Previous page" title="Previous page">
            <i class="icon--mdi icon--mdi--skip-previous"></i>
          </button>
        </li>
        <li>
          <span id="pageInfo">No contacts</span>
        </li>
        <li>
          <button id="nextPage" alt="Next page" title="Next page">
            <i class="icon--mdi icon--mdi--skip-next"></i>
          </button>
        </li>
      </ul>
    </ajax-table>

    <h3>Ajax Table - Using Fetcher</h3>
    <ajax-table id="contactsTable2" fetch-on-load="true" records-key="contacts" total-count-key="totalCount"
      page-key="page" previous-button="#previousPage" page-info="#pageInfo" next-button="#nextPage">
      <table>
        <thead>
          <tr>
            <th style="width: 20%">First Name</th>
            <th style="width: 20%" data-key="lastName">Last Name</th>
            <th style="width: 40%" data-key="email">Email</th>
            <th style="width: 20%" data-key="phone">Phone</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <ul class="table-paging">
        <li>
          <button id="previousPage" alt="Previous page" title="Previous page">
            <i class="icon--mdi icon--mdi--skip-previous"></i>
          </button>
        </li>
        <li>
          <span id="pageInfo">No contacts</span>
        </li>
        <li>
          <button id="nextPage" alt="Next page" title="Next page">
            <i class="icon--mdi icon--mdi--skip-next"></i>
          </button>
        </li>
      </ul>
    </ajax-table>

    <h3>Ajax Table - Using Grouping</h3>
    <ajax-table id="projectsTable" fetch-on-load="true" url="/api/projects" records-key="projects" group-key="client">
      <table>
        <thead>
          <tr>
            <th style="width: 20%">Client</th>
            <th style="width: 50%" data-key="title">Title</th>
            <th style="width: 30%" data-key="dueDate">Due Date</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </ajax-table>

    <h3>Data Binding</h3>
    <p>
      The <strong>Binding</strong>, <strong>Computed</strong>, and
      <strong>applyBindings</strong>
      classes and functions provide the ability to do basic 2-way data binding
      between DOM elements and Javascript variables.
    </p>

    <form>
      <label for="firstName">First Name</label>
      <input type="text" id="firstName" data-bind="firstName" />

      <label for="lastName">Last Name</label>
      <input type="text" id="lastName" data-bind="lastName" />
    </form>

    <p data-bind="fullName"></p>

    <h3>Image Modal</h3>
    <img src="https://placehold.co/300" data-largeimageurl="https://placehold.co/600" class="myimages" />
    <img src="https://placehold.co/310" data-largeimageurl="https://placehold.co/610" class="myimages" />
    <img src="https://placehold.co/320" data-largeimageurl="https://placehold.co/620" class="myimages" />
  </main>

  <script type="module">
    import {
      Alerter,
      Confirmer,
      Spinner,
      showPopup,
      hidePopup,
      Prompter,
      AjaxTable,
      fetcher,
      Binding,
      Computed,
      applyBindings,
      attachImageModals,
    } from "/static/frame.js";

    /** @type {import("../dist/frame.js").ValidatorFunc} */

    document.addEventListener("DOMContentLoaded", () => {
      const alerter = new Alerter();
      const confirmer = new Confirmer();
      const spinnerer = new Spinner();

      /*
       * Click button to show alert
       */
      document
        .getElementById("showInfoAlert")
        .addEventListener("click", () => {
          alerter.info("This is an information alert!");
        });

      document
        .getElementById("showSuccessAlert")
        .addEventListener("click", () => {
          alerter.success("This is a success alert!");
        });

      document
        .getElementById("showWarnAlert")
        .addEventListener("click", () => {
          alerter.warn("This is a warning alert!");
        });

      document
        .getElementById("showErrorAlert")
        .addEventListener("click", () => {
          alerter.error("This is an error alert!");
        });

      /*
       * Click to show confirm
       */
      document
        .getElementById("showConfirm")
        .addEventListener("click", async () => {
          const result = await confirmer.yesNo("Are you sure?");
          alerter.info(`You chose "${result}"`);
        });

      /*
       * Click to show prompt
       */
      document.querySelector("#showPrompt").addEventListener("click", () => {
        document.querySelector("#prompt").show();
      });

      const prompterEl = document.querySelector("#prompt");

      prompterEl.addValidatorFunc((values) => {
        if (values.yourName === "") {
          return {
            validationErrors: ["Your name is required"],
            isValid: false,
          };
        }

        return {validationErrors: [], isValid: true};
      });

      prompterEl.addEventListener("validation-failed", (e) => {
        alerter.error(e.detail.validationErrors.join("<br />"));
      });

      prompterEl.addEventListener("confirm", (e) => {
        alerter.info(`${e.detail.greetingChoice} ${e.detail.yourName}!`);
      });

      /*
       * Click to show spinner
       */
      document.getElementById("showSpinner").addEventListener("click", () => {
        spinnerer.show();

        setTimeout(() => {
          spinnerer.hide();
        }, 3000);
      });

      /*
       * Popup menu events
       */
      document.getElementById("showPopup").addEventListener("click", () => {
        showPopup("#popup");
      });

      document
        .getElementById("popup")
        .addEventListener("menu-item-click", (e) => {
          alerter.info(
            `You clicked ${e.detail.text} with data ${e.detail.data}`,
          );
        });

      /*
       * Tag Cloud
       */
      const tagCloud = document.getElementById("tagCloud");

      tagCloud.addTags([
        {id: 1, label: "JavaScript", data: {id: 1, name: "JavaScript"}},
        {id: 2, label: "TypeScript", data: {id: 2, name: "TypeScript"}},
        {id: 3, label: "Python", data: {id: 3, name: "Python"}},
        {id: 4, label: "Java", data: {id: 4, name: "Java"}},
        {id: 5, label: "C#", data: {id: 5, name: "C#"}},
        {id: 6, label: "C++", data: {id: 6, name: "C++"}},
        {id: 7, label: "Go", data: {id: 7, name: "Go"}},
        {id: 8, label: "Rust", data: {id: 8, name: "Rust"}},
        {id: 9, label: "Ruby", data: {id: 9, name: "Ruby"}},
        {id: 10, label: "PHP", data: {id: 10, name: "PHP"}},
        {id: 11, label: "Swift", data: {id: 11, name: "Swift"}},
        {id: 12, label: "Kotlin", data: {id: 12, name: "Kotlin"}},
        {id: 13, label: "Dart", data: {id: 13, name: "Dart"}},
        {id: 14, label: "R", data: {id: 14, name: "R"}},
        {id: 15, label: "Perl", data: {id: 15, name: "Perl"}},
        {id: 16, label: "Scala", data: {id: 16, name: "Scala"}},
        {id: 17, label: "Haskell", data: {id: 17, name: "Haskell"}},
        {id: 18, label: "Lua", data: {id: 18, name: "Lua"}},
      ]);

      tagCloud.addEventListener("tag-click", (e) => {
        console.log(e.detail.data);
        alerter.info(`You clicked ${e.detail.label}`);
      });

      tagCloud.addEventListener("tag-remove", (e) => {
        console.log(e.detail.data);
        alerter.info(`You deleted ${e.detail.label}`);
      });

      const autoComplete1 = document.getElementById("autoComplete1");

      autoComplete1.options = [
        {value: 1, label: "Go"},
        {value: 2, label: "JavaScript"},
        {value: 3, label: "TypeScript"},
        {value: 4, label: "Python"},
        {value: 5, label: "Java"},
        {value: 6, label: "C#"},
        {value: 7, label: "C++"},
        {value: 8, label: "Rust"},
        {value: 9, label: "Ruby"},
        {value: 10, label: "PHP"},
        {value: 11, label: "Swift"},
        {value: 12, label: "Kotlin"},
        {value: 13, label: "Dart"},
        {value: 14, label: "R"},
        {value: 15, label: "Perl"},
        {value: 16, label: "Scala"},
        {value: 17, label: "Haskell"},
        {value: 18, label: "Lua"},
      ];

      autoComplete1.addEventListener("select", (e) => {
        console.log(e.detail);
        alerter.info(`You selected ${e.detail.label}`);
      });

      const autoComplete2 = document.getElementById("autoComplete2");

      autoComplete2.options = [
        {value: 1, label: "Go", data: {id: 1, tiobe: 8}},
        {value: 2, label: "JavaScript", data: {id: 2, tiobe: 6}},
        {value: 3, label: "TypeScript", data: {id: 3, tiobe: 10}},
        {value: 4, label: "Python", data: {id: 4, tiobe: 1}},
        {value: 5, label: "Java", data: {id: 5, tiobe: 4}},
        {value: 6, label: "C#", data: {id: 6, tiobe: 5}},
        {value: 7, label: "C++", data: {id: 7, tiobe: 3}},
        {value: 8, label: "Rust", data: {id: 8, tiobe: 18}},
        {value: 9, label: "Ruby", data: {id: 9, tiobe: 20}},
        {value: 10, label: "PHP", data: {id: 10, tiobe: 10}},
        {value: 11, label: "Swift", data: {id: 11, tiobe: 16}},
        {value: 12, label: "Kotlin", data: {id: 12, tiobe: 17}},
        {value: 13, label: "Dart", data: {id: 13, tiobe: 28}},
        {value: 14, label: "R", data: {id: 14, tiobe: 21}},
        {value: 15, label: "Perl", data: {id: 15, tiobe: 26}},
        {value: 16, label: "Scala", data: {id: 16, tiobe: 31}},
        {value: 17, label: "Haskell", data: {id: 17, tiobe: 38}},
        {value: 18, label: "Lua", data: {id: 18, tiobe: 33}},
      ];

      const contactsTable1 = document.querySelector("#contactsTable1");

      contactsTable1.setColumnMapping(0, (record) => {
        return `<a href="#contactID=${record.id}">${record.firstName}</a>`;
      });

      const contactsTable2 = document.querySelector("#contactsTable2");

      contactsTable2.setColumnMapping(0, (record) => {
        return `<a href="#contactID=${record.id}">${record.firstName}</a>`;
      });

      contactsTable2.fetcher = async (page) => {
        console.log(`fetching page ${page} of data`);
        const options = {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
          },
        };

        const response = await fetcher(
          `/api/contacts?page=${page}`,
          options,
          spinnerer,
        );
        const data = await response.json();
        return data;
      };

      const projectsTable = document.querySelector("#projectsTable");

      projectsTable.groupRenderer = (record) => {
        return `* ${record.client}`;
      };

      /*
       * Data bindings
       */
      const bindings = {
        firstName: new Binding("Adam"),
        lastName: new Binding("Presley"),
      };

      bindings.fullName = new Computed(
        () => `${bindings.firstName.value} ${bindings.lastName.value}`,
        [bindings.firstName, bindings.lastName],
      );

      applyBindings(bindings);

      /*
       * Image modal
       */
      attachImageModals(".myimages");
    });
  </script>
</body>

</html>
